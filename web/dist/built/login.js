webpackJsonp([16],[function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){c["default"].post("/login/qq.json",{openId:t,accessToken:e},function(t){c["default"].token(t.data.token),c["default"].user(t.data.user),location.href=c["default"].config.ctx+"/dashboard"})}var s=a(1),i=n(s),r=a(10),c=n(r);new i["default"]({el:"#login",data:{password:null,email:null,params:{}},created:function(){if(location.search)switch(this.params=c["default"].getQueryParams(location.search),this.params.status){case"expired":toastr.warning("会话已过期");break;case"success":toastr.success("操作成功")}$("#email").focus(),setTimeout(function(){},100)},methods:{submit:function(){if(this.$validate(!0),!this.$form.valid)return!1;var t=this;c["default"].post("/user/login.json",{email:this.email,password:this.password},function(e){c["default"].token(e.data.token),c["default"].user(e.data.user),t.params.refer?location.href=t.params.refer:location.href=c["default"].config.ctx+"/dashboard"})},qq:function(){var t=0;QC.Login.check()?QC.Login.getMe(function(t,e){QC.Login.getMe(function(t,e){o(t,e)})}):(QC.Login.showPopup({appId:101333549}),window.clearInterval(t),t=setInterval(function(){QC.Login.check()&&(window.clearInterval(t),QC.Login.getMe(function(t,e){o(t,e)}))},300))},weibo:function(){}}})}]);